@{
	ViewData["Title"] = "Countries";
}
<div class="row">
	<div class="col-lg-12">
		<h1 class="page-header">
			@ViewData["Title"]
		</h1>
		
        @Component.Invoke(nameof(Admin.UI.CP.Shared.Components.Breadcrumb))

		<table id="griddata" class="table table-striped table-bordered" cellspacing="0" width="100%">
			<thead>
				<tr>
					<th>Numeric Code</th>
					<th>Iso Code</th>
					<th>Alpha-3 Code</th>
					<th>Name</th>
					<th>Local Name</th>
				</tr>
			</thead>
			<tbody>

			</tbody>
		</table>
    </div>
</div>

@section styles {
	<link rel="stylesheet" href="https://cdn.datatables.net/1.10.11/css/dataTables.bootstrap.min.css" />
}

@section scripts {
	<script src="https://cdn.datatables.net/1.10.11/js/jquery.dataTables.min.js"></script>
	<script src="https://cdn.datatables.net/1.10.11/js/dataTables.bootstrap.min.js"></script>
	<script type="text/javascript">
        $(document).ready(function () {
            var columns = [
                { "data": "id" },
				{ "data": "code" },
				{ "data": "alpha3Code" },
				{ "data": "name" },
				{ "data": "localName" }
            ];
            var sortBy = columns.map((el) => el.data).indexOf("name");

			$("#griddata").DataTable({
				"ajax": { "url": "/common/country/list", "dataSrc": "" },
				"order": [[sortBy, "asc"]],
                "pageLength": 50,
                "columns": columns
			});
		});
	</script>
}